package serve

import (
	"fmt"
	"net/http"
	"rendercv/internal/utils"
)

func StartServer(outputDirectory string) {
	fmt.Println("Serving CV as website")

	port := 3000
	listenPort := fmt.Sprintf(":%d", port)

	fmt.Printf("Listening on :%d", port)

	http.Handle("/", http.FileServer(http.Dir(outputDirectory)))
	err := http.ListenAndServe(listenPort, nil)
	utils.CheckError(err)
}

func ListeningUrl(port int) string {
	return fmt.Sprintf("http://localhost:%d", port)
}
